<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Typewriter Paragraph with Linked Words + Music</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: white;
    text-align: center;
  }

  #text {
    font-size: 1.2rem;
    line-height: 1.6;
    color: #111;
    margin-top: 20px;
    max-width: 600px;
  }

  .cursor {
    display: inline-block;
    width: 2px;
    height: 1.2em;
    background: #333;
    animation: blink 1s step-start infinite;
    vertical-align: text-bottom;
  }

  @keyframes blink {
    50% { opacity: 0; }
  }

  a.highlighted {
    color: #007bff;
    text-decoration: none;
    font-weight: 600;
  }

  a.highlighted:hover {
    text-decoration: underline;
  }

  button {
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 10px 18px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  button:hover {
    background-color: #0056cc;
  }
</style>
</head>
<body>
  <button id="startBtn">Play Music & Start</button>
  <audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
  <div id="text"></div><span class="cursor" id="cursor" style="display:none;"></span>

<script>
const paragraph = "36.773049, 10.281680 copy paste situation for serving politics = 36.777526, 10.286172 = parazit: If the initial discovery or routine phase is accompanied by strong neural activity ( due to a stimulus, emotion, or stimulating environment link ), then : the neural network at that point was formed under a high-energy state dopamine and adrenaline levels ,jumping state - false psychological statue";
const highlightLinks = {
  "link": "https://drive.google.com/file/d/10T8KpTXs0Aqb7Wd3L4TPnkh-DyYnVOrE/view?usp=drivesdk"
};

const textEl = document.getElementById("text");
const cursorEl = document.getElementById("cursor");
const bgMusic = document.getElementById("bgMusic");
const startBtn = document.getElementById("startBtn");

const words = paragraph.split(" ");
let wordIndex = 0;
let charIndex = 0;
let currentSpan;
const typingSpeed = 40;
const wordPause = 150;

function typeStep() {
  if (wordIndex >= words.length) {
    cursorEl.style.display = "none";
    return;
  }

  let currentWord = words[wordIndex];
  if (!currentSpan) {
    currentSpan = document.createElement("span");
    textEl.appendChild(currentSpan);
  }

  if (charIndex < currentWord.length) {
    currentSpan.textContent += currentWord.charAt(charIndex);
    charIndex++;
    setTimeout(typeStep, typingSpeed);
  } else {
    const stripped = currentWord.replace(/[^\w]/g, "");
    if (highlightLinks[stripped]) {
      const link = document.createElement("a");
      link.href = highlightLinks[stripped];
      link.textContent = currentWord;
      link.className = "highlighted";
      link.target = "_blank";
      textEl.replaceChild(link, currentSpan);
      currentSpan = link;
    }
    textEl.innerHTML += " ";
    wordIndex++;
    charIndex = 0;
    currentSpan = null;
    setTimeout(typeStep, wordPause);
  }
}

startBtn.addEventListener("click", () => {
  startBtn.style.display = "none";
  cursorEl.style.display = "inline-block";
  bgMusic.play().catch(() => {
    alert("Autoplay blocked â€” please allow sound or click again!");
  });
  setTimeout(typeStep, 500);
});
</script>
</body>
</html>
